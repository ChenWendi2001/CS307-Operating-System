## Chapter 1 Homework
陈文迪 519021910071

#### 1.1 简述操作系统的三个主要目的
- 操作系统位于计算机用户和计算机硬件之间，是二者的**中间媒介**。它为软件在硬件上的运行提供了环境，可以让用户便捷高效地执行程序。
- 从计算机的角度来看，操作系统是一个**资源分配器**。它为各个程序和用户分配资源，以便计算机系统能有效且公平地运行。
- 操作系统同时也是一个**控制程序**。它管理用户程序的执行，防止计算机资源的错误或不当使用。同时它也注重 I/O 设备的运行和控制。

#### 1.3 当程序员为实时环境编写操作系统时，必须克服的主要困难是什么？
对于一个实时系统，它的处理器执行和数据流动具有严格的**时间要求**。正是因为实时系统有明确的、固定的时间约束，任何处理必须在固定时间约束内完成，否则系统就会出错。因此，对于编写实时操作系统的程序员而言，最大的困难在于实现实时功能的调度（例如实时计算的内存管理设计），来确保操作系统的响应时间能够满足时间约束的要求。

#### 1.5 内核模式和用户模式之间的区别是如何作为系统保护（安全性）的基本形式的？
计算机硬件通过*模式位*来表示当前模式，而利用模式位，就可以区分为操作系统执行的任务和为用户执行的任务。双重模式执行可以提供保护手段，以便防止操作系统和用户程序受到错误用户程序的影响。具体来说，将可能引起损害的机器指令作为**特权指令**，并且硬件只有在内核模式下才允许执行特权指令。如果在用户模式下试图执行特权指令（例如中断管理、I/O控制等关键指令），那么硬件并不会执行该指令，而是认为该指令非法，并将其以*陷阱*形式通知操作系统。这样就将用户任务和操作系统任务进行了分离，让用户模式下的错误不会影响到操作系统的安全、完整，同时通过限制用户模式下的执行权限，降低了用户程序进行危险操作的可能性。

#### 1.6 下列那些指令应被作为特权指令？
下列指令应被作为特权指令：
- Set value of timer.
- Clear memory.
- Turn off interrupts.
- Modify entries in device-status table.
- Access I/O device.

#### 1.10 给出缓存有用的两个原因。他们解决了什么问题,又会引起什么问题？如果一个缓存可以和它正在缓存的设备一样大（例如，一个缓存和一个磁盘一样大），为什么不把它做得那么大并弃用被缓存的设备呢？
首先，计算机系统中各个硬件的读写速度是由差异的，而缓存正是各个速度不同的硬件间传递数据的中间媒介，例如CPU的处理速度大于内存的访问速度，所以内存中的数据会被转移到高速缓存或者寄存器中以便CPU利用。并且，缓存中的数据可以反复利用，当需要特定信息时，首先检查是否处于高速缓存，如果是，可以直接使用高速缓存的信息，提高了访问速度。从以上两点可以看出，缓存作为一个缓冲媒介解决了计算机系统中不同速度的硬件之间数据传递的问题，并且提高了系统整体的效率。但是缓存的存在也会导致数据的副本在多个地方出现，这就会导致数据同步的问题。例如对于一个多任务环境，CPU会在多个进程中来回切换，需要保证多个进程访问同一数据时，能都得到最近更新的值。这个问题在多处理器环境乃至分布式环境中变得更加复杂。最后，当缓存的容量可以达到被缓存设备的容量时，我们的确可以用缓存来替代被缓存的设备。但前提是缓存的价格相对较低，并且缓存和被缓存设备都是易失或者不易失的。正如我们不用内存代替磁盘，正是因为内存的价格较高，并且内存是易失的。

#### 1.11 给出分布式系统的客户机-服务器模型和对等模型的区别。
在客户机-服务器模型中，节点之间是*不对等*的，分为客户机和服务器。当客户机请求服务时，由服务器提供相应的服务。而在对等（P2P）系统模型中，并不区分客户机和服务器。每个节点都可作为客户机或服务器，这取决于它是请求还是提供服务。这在架构上决定了P2P系统可以在一定程度上避免由服务器造成的瓶颈，因为分布在整个网络中的多个节点都可以提供服务。当我们在浏览一个视频网站的时候，此时我们的电脑充当客户机，而网站服务器则作为服务器，因此该系统更接近客户机-服务器模型。而当我们使用P2P下载技术时，整个系统则更类似于对等模型。当然，现在有许多产品将两者结合起来（如Skype），以发挥各自的优点。